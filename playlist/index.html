<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Playlist ‚Äî VVIP25</title>
  <link rel="icon" type="image/png" sizes="64x64" href="/favicon-64.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/favicon-192.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" href="/favicon.ico?v=3">
  <meta name="theme-color" content="#0b0b0c"/>
  <style>
    :root{--bg:#0b0b0c;--fg:#eceff4;--muted:#9aa0a6;--card:#141416;--border:#26272b;--accent:#6ee7b7}
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--fg);
         font:16px/1.5 -apple-system,BlinkMacSystemFont,"Helvetica Neue",Helvetica,Arial,"Segoe UI",Roboto,Inter,system-ui,sans-serif}
    .wrap{max-width:920px;margin:0 auto;padding:16px}
    h1{font-size:32px;margin:24px 0}
    .toolbar{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin:12px 0}
    .btn{display:inline-block;padding:6px 12px;border:1px solid var(--border);border-radius:8px;background:var(--card);color:var(--fg);text-decoration:none}
    .search{flex:1;min-width:180px;background:var(--card);color:var(--fg);border:1px solid var(--border);border-radius:10px;padding:8px 10px}
    .list{margin:12px 0 40px;border:1px solid var(--border);border-radius:14px;overflow:hidden}
    .row{display:grid;grid-template-columns:56px 1fr auto;gap:12px;align-items:center;padding:10px 12px;border-top:1px solid var(--border);background:var(--card);min-height:78px}
    .row:first-child{border-top:0}
    .row:hover{background:#17171b}
    .row[draggable="true"]{cursor:grab}
    .row.dragging{opacity:.7}
    @media (max-width:560px){ .row{grid-template-columns:1fr auto} }
  </style>
</head>
<body>
  <main id="page-root" data-page="playlist">
    <div class="wrap">
      <div class="toolbar">
        <a class="btn" href="/" data-nav>‚Üê Home</a>
        <a class="btn" href="/shoppe/" data-nav>üõçÔ∏è Shoppe</a>

        <select id="playlistSort" title="Sort">
          <option value="date_desc">Newest</option>
          <option value="date_asc">Oldest</option>
          <option value="bpm_desc">BPM ‚Üì</option>
          <option value="bpm_asc">BPM ‚Üë</option>
          <option value="len_desc">Longest</option>
          <option value="len_asc">Shortest</option>
          <option value="custom">Custom (drag)</option>
        </select>

        <input id="playlistSearch" class="search"
               placeholder="Filter‚Ä¶ enter #tag to override favorites (e.g. #mbv)" />
      </div>

      <h1>Playlist</h1>
      <div id="dragHint" class="sub" style="color:var(--muted);font-size:13px;display:none">
        Tip: drag rows to reorder. Order is saved locally.
      </div>

      <section id="playlistList" class="list" data-playlist-list>
        <!-- populated by /assets/playlist.js via base init hook -->
      </section>
    </div>
  </main>

  <!-- Lightweight guard: if loaded directly (no base player), kick to home then SPA back here -->
  <script>
    (function(){
      if (!window.initPage) {
        // Hard navigate to home; base SPA will handle subsequent navs
        location.replace('/');
      }
    })();
  </script>

  <!-- Playlist logic (depends on globals from base) -->
  <script src="/assets/playlist.js"></script>
</body>
</html>